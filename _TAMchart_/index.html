<!--///////////////////////////////////////////////////////////////////////////////
//
// Topographic Attribute Maps Demo
// Copyright 2020 Reinhold Preiner, Johanna Schmidt, Gabriel Mistelbauer
//
// This code is licensed under an MIT License.
// See the accompanying LICENSE file for details.
//
///////////////////////////////////////////////////////////////////////////////-->


<!DOCTYPE html>
<head>
	<meta charset="utf-8">
	<title>Topographic Attribute Map</title>

	<script src="src/js/d3_v7_min.js"></script>
	<script src="src/js/i18n.js"></script>
    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
	<script type="module" src="src/js/parms.js"></script>
	<script type="module" src="src/js/translations.js"></script>
	<script type="module" src="src/js/gedcom.js"></script>
	<script type="module" src="src/js/scalarfield.js"></script>
	<script type="module" src="src/js/interaction.js"></script>
	<script type="module" src="src/js/TAMrenderer.js"></script>
	<script type="module" src="src/js/TFMrenderer.js"></script>
	<script type="module" src="src/js/TAHrenderer.js"></script>
    <script type="module" src="src/js/dbman.js"></script>
	<script type="module" src="src/js/utils.js"></script>
	<script type="module" src="src/js/export.js"></script>
	<script type="module" src="src/js/interfaces.js"></script>
	<script type="module" src="src/js/guiparts.js"></script>
    <script type="module" src="src/js/TAMmain.js"></script>
	<link rel="stylesheet" type="text/css" href="src/css/wtTAM.css">
	<link rel="stylesheet" type="text/css" href="src/css/wtTAMmenu.css">
</head>

<body>
	<div id="menubar" class="dialbar">
	</div>
	<!-------------------------------------------------------------------------------------->
	<div id="canvas">
		<svg id="sTAM" xmlns="http://www.w3.org/2000/svg" vbDim="6x6" viewBox="-3000 -1600 6000 6000" preserveAspectRatio="xMinYMin meet" display="none">
			<defs>
				<marker id="arrowTAM" viewBox="0 0 8 8" refX="6" refY="4"
					markerWidth="6" markerHeight="6"
					orient="auto-start-reverse"
					fill="black"
					fill-opacity="1">
				  <path d="M 0 0 L 8 4 L 0 8 z" />
				</marker>
				<filter id="dropshadowTAM" x="-60%" y="-60%" height="300%" width="300%">
					<feOffset result="offOut" in="SourceAlpha" dx="4" dy="4" />
					<feGaussianBlur result="blurOut" in="offOut" stdDeviation="5" />
					<feBlend in="SourceGraphic" in2="blurOut" mode="normal" />
				</filter>
			</defs>
		</svg>
		<svg id="sTFM" xmlns="http://www.w3.org/2000/svg" vbDim="6x6" viewBox="-3000 -1600 6000 6000" preserveAspectRatio="xMinYMin meet" display="none">
			<defs>
				<marker id="arrowTFM" viewBox="0 0 8 8" refX="6" refY="4"
					markerWidth="6" markerHeight="6"
					orient="auto-start-reverse"
					fill="black"
					fill-opacity="1">
				  <path d="M 0 0 L 8 4 L 0 8 z" />
				</marker>
				<filter id="dropshadowTFM" x="-60%" y="-60%" height="300%" width="300%">
					<feOffset result="offOut" in="SourceAlpha" dx="4" dy="4" />
					<feGaussianBlur result="blurOut" in="offOut" stdDeviation="5" />
					<feBlend in="SourceGraphic" in2="blurOut" mode="normal" />
				</filter>
			</defs>
		</svg>
		<svg id="bullsEye"></svg>
	</div>

	<div id="overlay" style="display: none;">
	</div>
	<!-------------------------------------------------------------------------------------->
	<div id="tickcountInfo"  class="dialbar" style="display: none;">
	</div>
    <div id="sliderTimeline" class="row" style="display: none;">
    </div>
    <div id="forceInfo" class="d3-zoom-controls"><!-- content generated by guiparts.js|CONTROLS_html --></div>
<!-------------------------------------------------------------------------------------->

<script type="module">
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
///  DATA LOADING
import { mainDB } from "./src/js/TAMmain.js";
import * as parms from "./src/js/parms.js";
import { testDBstore } from "./src/js/dbman.js";

// const DBOpenRequest = window.indexedDB.open("wtTAM");
// oSET("db_wtTAM", DBOpenRequest);

// parms.SET("DEVMODE", true);
testDBstore("wtTAM", ["H-Tree", "TFMdata", "Gedcom"]);

mainDB("Gedcom");


/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
</script>

</body>
</html>
